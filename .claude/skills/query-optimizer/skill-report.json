{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T12:51:09.138Z",
    "slug": "curiouslearner-query-optimizer",
    "source_url": "https://github.com/CuriousLearner/devkit/tree/main/skills/query-optimizer",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "2126e7d0a541787239f09fc50c0b58de8e8c774635463c651a9ce71e994e4bb3",
    "tree_hash": "eb9153cd4fd2bd61d45f9f71d0f6b75e7eab988d91a2ac2ffdb6647599bf125b"
  },
  "skill": {
    "name": "query-optimizer",
    "description": "Analyze and optimize SQL queries for better performance and efficiency.",
    "summary": "Analyze and optimize SQL queries for better performance and efficiency.",
    "icon": "⚡",
    "version": "1.0.0",
    "author": "CuriousLearner",
    "license": "MIT",
    "category": "data",
    "tags": [
      "sql",
      "database",
      "performance",
      "optimization"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill containing only documentation and instructions for database query optimization. No executable code, no file access, no network calls, and no external command execution. All content is educational SQL best practices.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 792,
    "audit_model": "claude",
    "audited_at": "2026-01-10T12:51:09.137Z"
  },
  "content": {
    "user_title": "Optimize SQL queries for better performance",
    "value_statement": "Slow database queries impact application performance and user experience. This skill provides expert guidance on analyzing query execution plans, identifying performance bottlenecks, and implementing optimizations like proper indexing and query restructuring.",
    "seo_keywords": [
      "SQL optimization",
      "query performance",
      "PostgreSQL",
      "MySQL",
      "database indexing",
      "EXPLAIN ANALYZE",
      "slow query",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Analyze SQL queries using EXPLAIN and EXPLAIN ANALYZE",
      "Identify missing indexes and performance bottlenecks",
      "Suggest query rewrites to improve execution efficiency",
      "Recommend proper indexing strategies for different databases",
      "Detect N+1 query problems and suggest fixes",
      "Optimize pagination and JOIN operations"
    ],
    "limitations": [
      "Cannot directly execute queries or modify database schema",
      "Cannot access user databases or query live systems",
      "Cannot install or configure database software",
      "Provides recommendations only; requires user to implement changes"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Improve application queries",
        "description": "Analyze and optimize database queries in web applications to reduce response times and improve scalability."
      },
      {
        "target_user": "Database administrators",
        "title": "Audit database performance",
        "description": "Review execution plans and identify slow queries that need indexing or rewriting to maintain database health."
      },
      {
        "target_user": "Data engineers",
        "title": "Optimize data pipelines",
        "description": "Improve the performance of ETL queries and data transformation operations for faster processing."
      }
    ],
    "prompt_templates": [
      {
        "title": "Explain query plan",
        "scenario": "Understanding execution",
        "prompt": "Analyze this EXPLAIN output and tell me what the query is doing: [paste EXPLAIN output]"
      },
      {
        "title": "Find missing indexes",
        "scenario": "Performance investigation",
        "prompt": "This query is slow. Check if there are missing indexes: SELECT * FROM [table] WHERE [condition]"
      },
      {
        "title": "Fix N+1 queries",
        "scenario": "ORM optimization",
        "prompt": "Help me rewrite this code to avoid N+1 queries: [paste code with loop-based queries]"
      },
      {
        "title": "Design indexing strategy",
        "scenario": "Schema optimization",
        "prompt": "Suggest indexes for these tables and queries: [paste CREATE TABLE and SELECT statements]"
      }
    ],
    "output_examples": [
      {
        "input": "Analyze this query for performance: SELECT * FROM orders WHERE status = 'pending' ORDER BY created_at DESC LIMIT 20",
        "output": [
          "• This query may cause full table scan without an index on status",
          "• Consider adding a composite index on (status, created_at DESC)",
          "• Current query fetches all columns; select only needed columns to reduce I/O",
          "• For large tables, use cursor-based pagination instead of OFFSET"
        ]
      }
    ],
    "best_practices": [
      "Always run EXPLAIN before and after optimization to measure improvements",
      "Add indexes on foreign keys, WHERE clauses, JOIN conditions, and ORDER BY columns",
      "Avoid SELECT * and use only columns needed for the application"
    ],
    "anti_patterns": [
      "Using SELECT * on large tables increases memory usage and network transfer",
      "Applying functions to indexed columns prevents index usage",
      "Using OFFSET for pagination on deep pages causes performance degradation"
    ],
    "faq": [
      {
        "question": "Which databases are supported?",
        "answer": "Supports PostgreSQL, MySQL, MariaDB, SQL Server, and SQLite with database-specific optimization advice."
      },
      {
        "question": "What is the maximum query size?",
        "answer": "The skill can analyze queries of any size but works best with queries under 500 lines."
      },
      {
        "question": "How to integrate with existing tools?",
        "answer": "Use @query-optimizer prefix in any prompt. Combine with other skills like schema-analyzer for complete database help."
      },
      {
        "question": "Is data safe when using this skill?",
        "answer": "Yes. This skill only provides text-based recommendations. It never accesses or stores your database data."
      },
      {
        "question": "Why is my query still slow after adding indexes?",
        "answer": "Index effectiveness depends on data distribution, query patterns, and table size. The skill can suggest alternative approaches."
      },
      {
        "question": "How does this compare to database monitoring tools?",
        "answer": "This skill provides optimization guidance based on query structure. Use pg_stat_statements or slow query logs for real-time monitoring."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
