{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T11:52:38.683Z",
    "slug": "cjharmath-py-pydantic-patterns",
    "source_url": "https://github.com/CJHarmath/claude-agents-skills/tree/main/skills/py-pydantic-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "53089afa53bbff546da1774d16741636a6f5e5d7b1460eaeed4ac7319a2729a8",
    "tree_hash": "0da4f95a42e3a1d8453c123141573892026372a647b9cc8b6ac357330f7565ca"
  },
  "skill": {
    "name": "py-pydantic-patterns",
    "description": "Pydantic v2 patterns for validation and serialization. Use when creating schemas, validating data, or working with request/response models.",
    "summary": "Pydantic v2 patterns for validation and serialization. Use when creating schemas, validating data, o...",
    "icon": "ðŸ",
    "version": "1.0.0",
    "author": "CJHarmath",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "python",
      "pydantic",
      "validation",
      "data-modeling"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains only markdown documentation with code examples. No executable code, no scripts, no network calls, no file system access. Pure educational content about Pydantic patterns.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 359,
    "audit_model": "claude",
    "audited_at": "2026-01-10T11:52:38.683Z"
  },
  "content": {
    "user_title": "Apply Pydantic v2 Validation Patterns",
    "value_statement": "Pydantic v2 introduces breaking changes from v1 that cause validation failures and serialization bugs. These patterns provide ready-to-use code examples for validators, model configuration, discriminated unions, and serialization control.",
    "seo_keywords": [
      "pydantic v2 patterns",
      "pydantic validation",
      "python data validation",
      "pydantic schema",
      "claude code pydantic",
      "claude pydantic patterns",
      "codex python validation",
      "pydantic model config",
      "pydantic field validator",
      "pydantic migration guide"
    ],
    "actual_capabilities": [
      "Migrate Pydantic v1 code to v2 with correct API changes",
      "Write field validators with @field_validator decorator",
      "Configure models with ConfigDict for ORM and serialization options",
      "Create discriminated unions for polymorphic response types",
      "Define constrained fields using Field with min/max constraints",
      "Control serialization output with field_serializer and computed_field"
    ],
    "limitations": [
      "Does not install or execute Pydantic code",
      "Does not modify existing project files",
      "Does not generate complete project scaffolds",
      "Does not integrate with specific frameworks like FastAPI or Django"
    ],
    "use_cases": [
      {
        "target_user": "Python developers",
        "title": "Migrate v1 to v2",
        "description": "Update legacy Pydantic v1 codebases to v2 with correct patterns for validators, model_dump, and ConfigDict"
      },
      {
        "target_user": "API developers",
        "title": "Build validated APIs",
        "description": "Create request and response models with proper validation, serialization, and discriminated unions for polymorphic types"
      },
      {
        "target_user": "Data engineers",
        "title": "Define data schemas",
        "description": "Design schemas with custom types, field constraints, and validation logic for data pipelines"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "scenario": "Convert v1 to v2",
        "prompt": "Show me how to migrate from Pydantic v1 to v2. Convert this validator: @validator('email') def validate_email(cls, v): return v.lower()"
      },
      {
        "title": "Field Validation",
        "scenario": "Add field constraints",
        "prompt": "Write a Pydantic v2 model with a title field that must be 1-200 characters, a score between 0-100, and an optional notes field with max 1000 characters."
      },
      {
        "title": "Model Configuration",
        "scenario": "Configure model behavior",
        "prompt": "Create a UserRead model that validates from ORM objects, forbids extra fields, and strips whitespace from strings using ConfigDict."
      },
      {
        "title": "Complex Patterns",
        "scenario": "Discriminated unions",
        "prompt": "Implement a discriminated union pattern for AssessmentQuestion with TextQuestion, MultipleChoiceQuestion, and RatingQuestion types that Pydantic auto-deserializes based on the type field."
      }
    ],
    "output_examples": [
      {
        "input": "Convert this v1 validator to v2: @validator('email') def validate_email(cls, v): return v.lower()",
        "output": [
          "âœ… Pydantic v2 equivalent:",
          "from pydantic import field_validator",
          "",
          "@field_validator('email')",
          "@classmethod",
          "def validate_email(cls, v: str) -> str:",
          "    return v.lower()",
          "",
          "Key changes: validator â†’ field_validator, add @classmethod, add type hints"
        ]
      }
    ],
    "best_practices": [
      "Use @field_validator with @classmethod decorator for all field validators in Pydantic v2",
      "Replace class Config with model_config = ConfigDict for all model configuration",
      "Use from_attributes=True in ConfigDict when working with ORM objects like SQLAlchemy models"
    ],
    "anti_patterns": [
      "Using v1 patterns like @validator, class Config, or .dict() in new v2 code",
      "Missing @classmethod decorator on field validators which causes runtime errors",
      "Forgetting to set from_attributes=True when validating ORM objects, causing 'not a valid dict' errors"
    ],
    "faq": [
      {
        "question": "Which Python versions support Pydantic v2?",
        "answer": "Pydantic v2 requires Python 3.8 or later. It is tested on Python 3.8, 3.9, 3.10, 3.11, and 3.12."
      },
      {
        "question": "What are the main v1 to v2 breaking changes?",
        "answer": "Key changes: @validator â†’ @field_validator, class Config â†’ ConfigDict, .dict() â†’ .model_dump(), .json() â†’ .model_dump_json(), orm_mode â†’ from_attributes."
      },
      {
        "question": "Can I use these patterns with FastAPI?",
        "answer": "Yes. These patterns work with FastAPI. Set from_attributes=True for SQLModel/SQLAlchemy integration and use model_dump() for response serialization."
      },
      {
        "question": "Does this skill modify my files?",
        "answer": "No. This skill only provides code examples and patterns. It does not read, write, or modify any files in your project."
      },
      {
        "question": "Why is my validation not running?",
        "answer": "Check if validate_default=True is set in ConfigDict. Default values are not validated by default. Also ensure @classmethod is present on field validators."
      },
      {
        "question": "How does this compare to manual Pydantic documentation?",
        "answer": "This skill provides curated, tested patterns with common use cases. It is faster than reading the full documentation and includes migration guidance from v1."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
