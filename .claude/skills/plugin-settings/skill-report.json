{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-11T06:47:48.606Z",
    "slug": "anthropics-plugin-settings",
    "source_url": "https://github.com/anthropics/claude-plugins-official/tree/main/plugins/plugin-dev/skills/plugin-settings",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "66de5372ae655ea2d65c979a455006e38967b07ef87d1a061c28d4eacefdbdd5",
    "tree_hash": "cc0d0fa4d5bc4a64003066b6c5c0b13404e68df0b9caa453310da95065c94440"
  },
  "skill": {
    "name": "Plugin Settings",
    "description": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", \"user-configurable plugin\", \".local.md files\", \"plugin state files\", \"read YAML frontmatter\", \"per-project plugin settings\", or wants to make plugin behavior configurable. Documents the .claude/plugin-name.local.md pattern for storing plugin-specific configuration with YAML frontmatter and markdown content.",
    "summary": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", ...",
    "icon": "‚öôÔ∏è",
    "version": "0.1.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "configuration",
      "plugins",
      "yaml",
      "settings"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The plugin-settings skill is a documentation-only skill that explains configuration patterns. All external command patterns are legitimate shell scripting for parsing YAML frontmatter and validating settings. No malicious code detected.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "examples/read-settings-hook.sh",
            "line_start": 17,
            "line_end": 22
          },
          {
            "file": "scripts/validate-settings.sh",
            "line_start": 41,
            "line_end": 55
          },
          {
            "file": "scripts/parse-frontmatter.sh",
            "line_start": 19,
            "line_end": 51
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "examples/read-settings-hook.sh",
            "line_start": 41,
            "line_end": 47
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 8,
    "total_lines": 1978,
    "audit_model": "claude",
    "audited_at": "2026-01-11T06:47:48.606Z"
  },
  "content": {
    "user_title": "Configure plugins with YAML settings files",
    "value_statement": "Plugin developers need a standardized way to store per-project configuration. This pattern uses .claude/plugin-name.local.md files with YAML frontmatter for structured settings.",
    "seo_keywords": [
      "plugin configuration",
      "YAML frontmatter",
      "Claude Code plugins",
      "settings management",
      "plugin development",
      "claude configuration",
      "codex plugins",
      "local settings"
    ],
    "actual_capabilities": [
      "Store plugin settings in YAML frontmatter format",
      "Parse configuration from .claude/*.local.md files",
      "Implement settings-driven hook behavior",
      "Create validation for plugin configuration",
      "Manage per-project plugin state"
    ],
    "limitations": [
      "Settings require Claude Code restart to take effect",
      "YAML parsing limited to basic field extraction",
      "No hot-reloading of configuration changes",
      "File-based storage only (no database backend)"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developers",
        "title": "Add configurable behavior to plugins",
        "description": "Create settings files that control plugin behavior per project, with validation and defaults."
      },
      {
        "target_user": "DevOps teams",
        "title": "Standardize plugin configuration",
        "description": "Establish consistent patterns for plugin settings across team projects with YAML frontmatter."
      },
      {
        "target_user": "Multi-agent system builders",
        "title": "Coordinate agent behavior",
        "description": "Store agent state and configuration for complex multi-agent workflows in Claude Code."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create settings file",
        "scenario": "Setting up a new plugin configuration",
        "prompt": "Create a .claude/my-plugin.local.md file with enabled: true, mode: standard, and max_retries: 3 in the YAML frontmatter."
      },
      {
        "title": "Read plugin settings",
        "scenario": "Checking if plugin is enabled",
        "prompt": "Check if .claude/security-plugin.local.md exists and read the enabled field from the YAML frontmatter."
      },
      {
        "title": "Validate settings",
        "scenario": "Ensuring proper configuration",
        "prompt": "Validate that .claude/my-plugin.local.md has proper YAML frontmatter with required fields: enabled, mode, and max_file_size."
      },
      {
        "title": "Update agent state",
        "scenario": "Tracking multi-agent progress",
        "prompt": "Update the task_number field in .claude/multi-agent-swarm.local.md from 3.4 to 3.5 while preserving other settings."
      }
    ],
    "output_examples": [
      {
        "input": "Read the settings from .claude/validation-plugin.local.md",
        "output": [
          "‚úÖ Settings file found at .claude/validation-plugin.local.md",
          "üìã Configuration:",
          "  ‚Ä¢ enabled: true",
          "  ‚Ä¢ mode: strict",
          "  ‚Ä¢ max_file_size: 1000000",
          "  ‚Ä¢ allowed_extensions: [\".js\", \".ts\", \".tsx\"]",
          "üí° Plugin is active with strict validation enabled"
        ]
      }
    ],
    "best_practices": [
      "Always check if settings file exists before reading to avoid errors",
      "Use quick-exit pattern when plugin is disabled (enabled: false)",
      "Validate all user inputs when creating settings files to prevent injection",
      "Document required settings fields in your plugin README with examples"
    ],
    "anti_patterns": [
      "Don't hardcode settings values in hooks - always read from configuration",
      "Avoid creating settings files in git-tracked locations - use .local.md suffix",
      "Never execute settings values as commands - treat all inputs as data only"
    ],
    "faq": [
      {
        "question": "Why do settings changes require a restart?",
        "answer": "Claude Code loads hook configurations at startup. Settings are read by hooks, which cannot be hot-reloaded for security reasons."
      },
      {
        "question": "Can I use JSON instead of YAML?",
        "answer": "Yes, but YAML frontmatter is recommended for consistency with the documented pattern and easier parsing."
      },
      {
        "question": "Where should I document my plugin's settings?",
        "answer": "Include a Configuration section in your plugin's README.md with a complete settings template and field descriptions."
      },
      {
        "question": "How do I handle sensitive settings?",
        "answer": "Never store secrets in settings files. Use environment variables or secure secret management tools instead."
      },
      {
        "question": "Can multiple plugins share settings?",
        "answer": "Each plugin should have its own .local.md file. Shared configuration can be documented as dependencies."
      },
      {
        "question": "What happens if settings are invalid?",
        "answer": "Always provide sensible defaults. Log warnings for invalid values and continue with safe fallback behavior."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "create-settings-command.md",
          "type": "file",
          "path": "examples/create-settings-command.md"
        },
        {
          "name": "example-settings.md",
          "type": "file",
          "path": "examples/example-settings.md"
        },
        {
          "name": "read-settings-hook.sh",
          "type": "file",
          "path": "examples/read-settings-hook.sh"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "parsing-techniques.md",
          "type": "file",
          "path": "references/parsing-techniques.md"
        },
        {
          "name": "real-world-examples.md",
          "type": "file",
          "path": "references/real-world-examples.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "parse-frontmatter.sh",
          "type": "file",
          "path": "scripts/parse-frontmatter.sh"
        },
        {
          "name": "validate-settings.sh",
          "type": "file",
          "path": "scripts/validate-settings.sh"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
