{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-11T06:41:01.537Z",
    "slug": "anthropics-mcp-integration",
    "source_url": "https://github.com/anthropics/claude-plugins-official/tree/main/plugins/plugin-dev/skills/mcp-integration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "462ca4e0d091de348d548cf274d5ff9efadbce929b7de9a9fe71f3f74b6d4297",
    "tree_hash": "8240bcf7248c78e3fbbae376e55fbf642eb9309d5cbc6eb63509546668344e43"
  },
  "skill": {
    "name": "MCP Integration",
    "description": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in plugin\", \"use .mcp.json\", \"set up Model Context Protocol\", \"connect external service\", mentions \"${CLAUDE_PLUGIN_ROOT} with MCP\", or discusses MCP server types (SSE, stdio, HTTP, WebSocket). Provides comprehensive guidance for integrating Model Context Protocol servers into Claude Code plugins for external tool and service integration.",
    "summary": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in...",
    "icon": "ðŸ”—",
    "version": "0.1.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "mcp",
      "integration",
      "plugins",
      "external-services",
      "api"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation/reference guide skill teaching users how to configure legitimate MCP (Model Context Protocol) integrations. All static findings are FALSE POSITIVES: the scanner detected patterns in markdown documentation and example JSON configuration files that represent legitimate, intentional MCP usage patterns (spawning processes, network connections, environment variable handling) which are the core purpose of the Model Context Protocol.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 521,
            "line_end": 538
          },
          {
            "file": "references/authentication.md",
            "line_start": 24,
            "line_end": 31
          },
          {
            "file": "references/server-types.md",
            "line_start": 14,
            "line_end": 21
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "examples/http-server.json",
            "line_start": 5,
            "line_end": 14
          },
          {
            "file": "examples/sse-server.json",
            "line_start": 5,
            "line_end": 13
          },
          {
            "file": "SKILL.md",
            "line_start": 104,
            "line_end": 129
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "examples/stdio-server.json",
            "line_start": 14,
            "line_end": 22
          },
          {
            "file": "examples/http-server.json",
            "line_start": 7,
            "line_end": 8
          },
          {
            "file": "SKILL.md",
            "line_start": 182,
            "line_end": 185
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 2249,
    "audit_model": "claude",
    "audited_at": "2026-01-11T06:41:01.537Z"
  },
  "content": {
    "user_title": "Integrate Model Context Protocol servers into Claude plugins",
    "value_statement": "Claude Code plugins can integrate with external services through MCP. This skill provides step-by-step guidance for configuring MCP servers, setting up authentication, and using MCP tools in commands and agents.",
    "seo_keywords": [
      "mcp integration",
      "model context protocol",
      "claude code plugins",
      "external service integration",
      "mcp server configuration",
      "claude plugin mcp",
      "mcp stdio sse http",
      "oauth authentication",
      "api integration",
      "tool discovery"
    ],
    "actual_capabilities": [
      "Configure MCP servers using .mcp.json or inline plugin.json settings",
      "Set up stdio, SSE, HTTP, and WebSocket server connections",
      "Implement OAuth and token-based authentication patterns",
      "Use environment variable expansion for secure credential handling",
      "Discover and call MCP tools with proper naming conventions",
      "Handle errors and test MCP integrations during development"
    ],
    "limitations": [
      "This skill provides documentation and guidance only; it does not execute MCP configurations",
      "MCP servers must be pre-installed or configured separately by the user",
      "Authentication requires user-provided credentials via environment variables"
    ],
    "use_cases": [
      {
        "target_user": "Plugin Developers",
        "title": "Build plugins with external APIs",
        "description": "Create plugins that connect to databases, cloud services, and custom APIs using MCP servers"
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Integrate infrastructure tools",
        "description": "Add MCP servers for cloud providers, monitoring tools, and deployment services to Claude Code"
      },
      {
        "target_user": "Data Analysts",
        "title": "Connect to data sources",
        "description": "Configure MCP servers for databases, data warehouses, and analytics APIs"
      }
    ],
    "prompt_templates": [
      {
        "title": "Add MCP server",
        "scenario": "Configure new MCP connection",
        "prompt": "Help me add an MCP server to my plugin. I want to connect to a REST API at https://api.example.com using a bearer token stored in MY_API_KEY environment variable. Show me the .mcp.json configuration."
      },
      {
        "title": "MCP server types",
        "scenario": "Choose server transport type",
        "prompt": "What's the difference between stdio, SSE, HTTP, and WebSocket MCP servers? When should I use each type for my plugin?"
      },
      {
        "title": "OAuth setup",
        "scenario": "Configure OAuth authentication",
        "prompt": "How do I set up OAuth authentication for an MCP server? I want to connect to a cloud service that requires OAuth 2.0."
      },
      {
        "title": "Tool usage",
        "scenario": "Use MCP tools in commands",
        "prompt": "I configured an MCP server with my plugin. How do I use the provided tools in my command files? What's the naming convention and how do I pre-allow the tools?"
      }
    ],
    "output_examples": [
      {
        "input": "Help me configure an MCP server for a PostgreSQL database connection",
        "output": [
          "Here's a stdio MCP server configuration for PostgreSQL using environment variables:",
          "â€¢ Create .mcp.json in your plugin root",
          "â€¢ Use ${CLAUDE_PLUGIN_ROOT} for portable paths",
          "â€¢ Store credentials in DB_HOST, DB_PORT, DB_NAME, DB_USER, DB_PASSWORD",
          "â€¢ Pre-allow specific tools in your command frontmatter"
        ]
      }
    ],
    "best_practices": [
      "Use environment variables (${VAR}) for all credentials instead of hardcoding",
      "Always use HTTPS/WSS URLs for network connections to encrypt data in transit",
      "Pre-allow specific MCP tools in command frontmatter rather than using wildcards"
    ],
    "anti_patterns": [
      "Hardcoding API keys, tokens, or database URLs in configuration files",
      "Using HTTP instead of HTTPS for MCP server connections",
      "Allowing all MCP tools with wildcards instead of listing specific needed tools"
    ],
    "faq": [
      {
        "question": "What is Model Context Protocol?",
        "answer": "MCP is a protocol that enables Claude Code to connect to external services and expose their tools. Plugins can bundle MCP servers for seamless integration."
      },
      {
        "question": "What MCP server types are supported?",
        "answer": "Four types: stdio for local processes, SSE for hosted services with OAuth, HTTP for REST APIs, and WebSocket for real-time connections."
      },
      {
        "question": "How do I configure credentials securely?",
        "answer": "Use environment variable expansion like ${API_TOKEN} in your .mcp.json. Never hardcode credentials. Document required variables in your README."
      },
      {
        "question": "Where do I place the .mcp.json file?",
        "answer": "Create .mcp.json at your plugin root directory. Claude Code automatically discovers and loads MCP configurations from this file."
      },
      {
        "question": "How do I use MCP tools in commands?",
        "answer": "MCP tools follow the naming format mcp__plugin_<name>_<server>__<tool>. Pre-allow them in your command frontmatter using allowed-tools."
      },
      {
        "question": "Can I use multiple MCP servers in one plugin?",
        "answer": "Yes. Add multiple server entries to .mcp.json or the mcpServers field in plugin.json. Each server gets its own tools namespace."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "http-server.json",
          "type": "file",
          "path": "examples/http-server.json"
        },
        {
          "name": "sse-server.json",
          "type": "file",
          "path": "examples/sse-server.json"
        },
        {
          "name": "stdio-server.json",
          "type": "file",
          "path": "examples/stdio-server.json"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "authentication.md",
          "type": "file",
          "path": "references/authentication.md"
        },
        {
          "name": "server-types.md",
          "type": "file",
          "path": "references/server-types.md"
        },
        {
          "name": "tool-usage.md",
          "type": "file",
          "path": "references/tool-usage.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
