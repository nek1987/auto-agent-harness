{
  "skill": {
    "name": "stripe-best-practices",
    "description": "Best practices for building Stripe integrations. Use when implementing payment processing, checkout flows, subscriptions, webhooks, Connect platforms, or any Stripe API integration.",
    "summary": "Expert guidance on Stripe integration patterns including Checkout, PaymentIntents, Subscriptions, and Connect",
    "icon": "ðŸ’³",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "MIT",
    "category": "coding",
    "tags": ["stripe", "payments", "integration", "api"],
    "supported_tools": ["claude", "codex", "claude-code"]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "SKILL.md is pure documentation with no executable code. All 29 static findings are false positives: 23 'Hardcoded URL' detections are legitimate Stripe documentation links embedded in guidance text, 6 'Weak cryptographic algorithm' detections are scanner misidentifications of payment terminology and YAML syntax as crypto code, and 1 'System reconnaissance' detection incorrectly interprets API endpoint guidance as system scanning. This is a documentation-only file providing best-practice guidance for Stripe integrations.",
    "static_findings_evaluation": [
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:6",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 6 contains a Stripe documentation URL (https://docs.stripe.com/payments/payment-methods/integration-options.md) embedded in guidance text. This is a documentation reference, not executable code making network requests."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:7",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 7 contains Stripe documentation URL for API Tour. Documentation links are informational references, not network calls."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:8",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 8 contains Go Live Checklist URL. Standard documentation practice for best-practices guide."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:12",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Lines 12-13 contain CheckoutSessions and PaymentIntents documentation links. Legitimate documentation references."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:12",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 12 contains additional Stripe API documentation links. Documentation references for integration guidance."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:14",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 14 contains migration guide URL for Charges API. Documentation reference, not network call."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:16",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Lines 16-17 contain Checkout and Payment Element documentation links. Legitimate best-practices references."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:16",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 16 contains additional Payment Element documentation link. Documentation for integration guidance."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:18",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 18 contains Card Element migration guide URL. Documentation link for guidance purposes."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:20",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 20 contains multiple Stripe API documentation URLs (Sources API, Tokens API, Setup Intent API). These are references for API guidance, not network calls."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:20",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 20 contains additional Stripe API documentation links. Legitimate references for avoiding deprecated endpoints."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:20",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 20 contains multiple API documentation references. Standard documentation practice for integration guidance."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:20",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 20 contains additional documentation links for Setup Intent API. Documentation references only."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:24",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 24 contains payment_method_types API documentation link. Documentation reference for integration guidance."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:26",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Lines 26-27 contain payment_method_data documentation and PAN migration guide URLs. Legitimate documentation links."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:26",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 26 contains additional documentation links for payment method data integration."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:28",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Lines 28-29 contain Subscription use cases, SaaS, and Billing integration planning URLs. Documentation references."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:28",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 28 contains additional SaaS documentation link. Legitimate reference for subscription billing guidance."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:28",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 28 contains Billing integration planning URL. Documentation reference for best practices."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:30",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Lines 30-31 contain Connect integration recommendations, controller properties, and capabilities URLs. Legitimate Stripe documentation links."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:30",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 30 contains Connect integration recommendations URL. Documentation reference for platform building."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:30",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 30 contains integration design guide URL. Legitimate documentation for Connect platforms."
      },
      {
        "finding": "network: \"Hardcoded URL\" at SKILL.md:30",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 30 contains controller properties migration URL. Documentation reference for platform configuration."
      },
      {
        "finding": "blocker: \"Weak cryptographic algorithm\" at SKILL.md:3",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 3 is the skill description field containing no cryptographic code. Scanner likely misidentified payment terminology or YAML syntax as crypto code."
      },
      {
        "finding": "blocker: \"Weak cryptographic algorithm\" at SKILL.md:6",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 6 is documentation text with no cryptographic implementations. Payment-related terms and documentation links are not cryptographic algorithms."
      },
      {
        "finding": "blocker: \"Weak cryptographic algorithm\" at SKILL.md:28",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 28 discusses Billing APIs and subscription patterns, not cryptographic algorithms. Pattern match false positive."
      },
      {
        "finding": "blocker: \"Weak cryptographic algorithm\" at SKILL.md:30",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 30 discusses Connect integration patterns, not cryptography. No cryptographic code exists in this documentation file."
      },
      {
        "finding": "blocker: \"Weak cryptographic algorithm\" at SKILL.md:30",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 30 contains Connect platform documentation links. No cryptographic implementations present."
      },
      {
        "finding": "blocker: \"Weak cryptographic algorithm\" at SKILL.md:30",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 30 discusses account capabilities and integration patterns, not cryptographic algorithms."
      },
      {
        "finding": "blocker: \"System reconnaissance\" at SKILL.md:20",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Line 20 provides guidance on avoiding deprecated Stripe API endpoints (Sources API, Tokens API, Charges API). This is legitimate API integration guidance, not system reconnaissance. The skill advises using modern APIs instead of deprecated ones."
      }
    ],
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 31
  },
  "content": {
    "user_title": "Follow Stripe best practices for payments",
    "value_statement": "This skill provides expert guidance on implementing secure and modern Stripe integrations. It covers checkout flows, subscriptions, webhooks, and Connect platforms to help you avoid deprecated APIs and follow Stripe recommended patterns.",
    "seo_keywords": ["stripe integration", "stripe payments", "stripe checkout", "stripe subscriptions", "stripe webhooks", "stripe connect", "payment processing", "claude code", "claude", "codex"],
    "actual_capabilities": [
      "Guide developers to use CheckoutSessions over legacy Charges API",
      "Recommend PaymentIntents for off-session payments and custom checkout flows",
      "Advise on Subscriptions and Billing APIs for recurring revenue models",
      "Provide Connect platform integration guidance with direct and destination charges",
      "Direct users to Stripe official documentation for specific implementation details"
    ],
    "limitations": [
      "Does not provide code implementations or code snippets",
      "Does not execute or test Stripe integrations",
      "Does not handle PCI compliance or security audits",
      "Does not provide debugging assistance for failed payments"
    ],
    "use_cases": [
      {"target_user": "E-commerce developers", "title": "Build payment checkout", "description": "Guide on implementing Stripe Checkout, Payment Element, and avoiding deprecated payment methods."},
      {"target_user": "SaaS developers", "title": "Create subscription billing", "description": "Help designing subscription integrations with Billing APIs and recurring payment flows."},
      {"target_user": "Platform builders", "title": "Build marketplace with Connect", "description": "Guidance on Connect integration types, charge flows, and managing connected accounts."}
    ],
    "prompt_templates": [
      {"title": "Basic checkout setup", "scenario": "Implementing payment checkout", "prompt": "Help me set up Stripe Checkout for my e-commerce site. What APIs should I use?"},
      {"title": "Subscription integration", "scenario": "Building recurring billing", "prompt": "I need to implement subscription billing for my SaaS application. Guide me on the right Stripe APIs."},
      {"title": "Webhook handling", "scenario": "Processing payment events", "prompt": "What are the best practices for handling Stripe webhooks in my application?"},
      {"title": "Platform Connect", "scenario": "Building marketplace", "prompt": "I am building a marketplace platform. What Connect integration pattern should I use for multi-party payments?"}
    ],
    "output_examples": [
      {
        "input": "How do I implement one-time payments with Stripe?",
        "output": [
          "Use CheckoutSessions API for on-session payments with tax and discount support",
          "Prefer Stripe-hosted checkout page for security and PCI compliance",
          "For off-session payments, use PaymentIntents API with saved payment methods",
          "Avoid the legacy Charges API. Migrate to PaymentIntents if currently using it",
          "Reference: https://docs.stripe.com/payments/payment-methods/integration-options.md"
        ]
      }
    ],
    "best_practices": [
      "Always use CheckoutSessions or PaymentIntents instead of the deprecated Charges API",
      "Prefer Stripe-hosted checkout or embedded Payment Element over custom form integrations",
      "Enable dynamic payment methods in dashboard settings rather than hardcoding payment_method_types"
    ],
    "anti_patterns": [
      "Using the Charges API for new integrations. It is deprecated and should not be recommended",
      "Recommending the Card Element or custom card forms when Payment Element is available",
      "Mixing Connect charge types (direct and destination) within the same integration"
    ],
    "faq": [
      {"question": "What is the difference between CheckoutSessions and PaymentIntents?", "answer": "CheckoutSessions handles the full checkout flow including taxes and discounts. PaymentIntents provides more control for off-session payments or custom state management."},
      {"question": "Should I use Stripe-hosted or embedded checkout?", "answer": "Prefer Stripe-hosted checkout for simplicity and PCI compliance. Use embedded checkout when you need advanced customization within your page."},
      {"question": "When should I use Payment Element over Checkout?", "answer": "Use Payment Element when you need advanced customization of the payment form, especially before creating a PaymentIntent for use cases like surcharging."},
      {"question": "What is the right Connect integration type for my platform?", "answer": "Use direct charges when Stripe takes the risk. Use destination charges when your platform accepts liability for negative balances."},
      {"question": "How do I handle deprecated Stripe APIs?", "answer": "Avoid Sources API, Tokens API, and Charges API. Migrate to CheckoutSessions, PaymentIntents, or SetupIntents based on your use case."},
      {"question": "Should I hardcode payment method types?", "answer": "No. Enable dynamic payment methods in your Stripe dashboard. Stripe automatically shows appropriate payment methods based on user location and preferences."}
    ]
  }
}
