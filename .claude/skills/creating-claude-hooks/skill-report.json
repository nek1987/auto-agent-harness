{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T10:17:02.712Z",
    "slug": "agentworkforce-creating-claude-hooks",
    "source_url": "https://github.com/AgentWorkforce/relay/tree/main/.claude/skills/creating-claude-hooks-skill",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "831389fd123f08ea3fe521fabb08bf692ca42497aae7eebcd3f35d70dc88273b",
    "tree_hash": "a458f3b861498169fc28a98a06b2eae55485ecf4c68b071f6562836a56082cf8"
  },
  "skill": {
    "name": "creating-claude-hooks",
    "description": "Use when creating or publishing Claude Code hooks - covers executable format, event types, JSON I/O, exit codes, security requirements, and PRPM package structure",
    "summary": "Use when creating or publishing Claude Code hooks - covers executable format, event types, JSON I/O,...",
    "icon": "ü™ù",
    "version": "1.0.0",
    "author": "AgentWorkforce",
    "license": "MIT",
    "category": "documentation",
    "tags": [
      "hooks",
      "automation",
      "claude-code",
      "configuration",
      "security"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only markdown reference material. No executable code, no file access, no network operations, and no external command execution at runtime. The skill provides examples and guidance only.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 427,
    "audit_model": "claude",
    "audited_at": "2026-01-10T10:17:02.712Z"
  },
  "content": {
    "user_title": "Create Claude Code hooks for automation",
    "value_statement": "Claude Code hooks enable automatic actions during AI sessions. This skill provides the reference guide for creating, securing, and publishing hooks that validate, log, and automate workflows.",
    "seo_keywords": [
      "Claude Code hooks",
      "Claude hooks automation",
      "claude-code hooks",
      "Claude Code events",
      "hook creation guide",
      "Claude automation",
      "Claude Code security",
      "PRPM hooks",
      "Claude CLI hooks",
      "Claude plugin hooks"
    ],
    "actual_capabilities": [
      "Explain hook file format and executable requirements",
      "Describe available event types (session-start, tool-call, user-prompt-submit)",
      "Show JSON input/output conventions and exit codes",
      "Demonstrate security best practices including input validation",
      "Guide PRPM package structure for hook distribution",
      "Provide example hooks in bash and TypeScript"
    ],
    "limitations": [
      "Does not execute or install hooks - provides reference only",
      "Does not modify project files or configuration",
      "Does not connect to external APIs or services",
      "Does not provide pre-built hook binaries"
    ],
    "use_cases": [
      {
        "target_user": "Plugin Developers",
        "title": "Build distributable hooks",
        "description": "Package hooks as PRPM modules for sharing with other Claude Code users"
      },
      {
        "target_user": "Security Engineers",
        "title": "Implement input validation",
        "description": "Create hooks that validate prompts and block sensitive data exposure"
      },
      {
        "target_user": "DevOps Teams",
        "title": "Automate session workflows",
        "description": "Set up automated checks and logging for AI-assisted development sessions"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create new hook",
        "scenario": "When user wants to create a hook for a specific event",
        "prompt": "Create a Claude Code hook that runs on session-start and logs the current directory and timestamp to a file"
      },
      {
        "title": "Publish hook package",
        "scenario": "When user needs to share a hook as a PRPM package",
        "prompt": "Show me the package structure and prpm.json format for publishing a hook to the PRPM registry"
      },
      {
        "title": "Validate hook input",
        "scenario": "When user needs secure input handling patterns",
        "prompt": "What are the security requirements for validating JSON input in Claude Code hooks? Show path sanitization examples"
      },
      {
        "title": "Understand exit codes",
        "scenario": "When user needs to control hook behavior",
        "prompt": "Explain the difference between exit codes 0, 1, and 2 for Claude Code hooks and when to use each"
      }
    ],
    "output_examples": [
      {
        "input": "Create a session-start hook that checks Node.js version",
        "output": [
          "A session-start hook fires when a new Claude Code session begins",
          "The hook receives JSON with session_id, current_dir, and timestamp",
          "Use exit code 0 for success, 2 to block, 1 for errors",
          "Example: Check Node.js version and warn if below minimum required"
        ]
      }
    ],
    "best_practices": [
      "Validate all JSON input from stdin before processing to prevent injection attacks",
      "Keep PreToolUse hooks under 100ms to avoid blocking Claude Code execution",
      "Use stderr for logging and debugging output to keep transcript clean"
    ],
    "anti_patterns": [
      "Skipping input validation on JSON fields allows malformed data to cause errors",
      "Running long operations synchronously blocks the AI session",
      "Logging sensitive data to stdout exposes it in the transcript"
    ],
    "faq": [
      {
        "question": "What languages can I use for Claude Code hooks?",
        "answer": "Any executable language including bash, Python, Node.js, and TypeScript. The file must have a valid shebang."
      },
      {
        "question": "What are the available hook events?",
        "answer": "Four events exist: session-start fires on new sessions, user-prompt-submit before prompts, tool-call before tool execution, and assistant-response after responses."
      },
      {
        "question": "How do I integrate hooks with existing tools?",
        "answer": "Hooks receive event data via stdin as JSON. Parse this data and call external tools as needed. Use jq for bash or JSON.parse for JavaScript."
      },
      {
        "question": "Is my data safe when using third-party hooks?",
        "answer": "Claude Code shows hook source code and requires confirmation before installing. Hooks run in your session context with your permissions."
      },
      {
        "question": "Why is my hook not executing?",
        "answer": "Common causes: missing shebang line, file not executable (chmod +x), syntax errors, or taking too long to respond. Check stderr output."
      },
      {
        "question": "How do hooks differ from skills?",
        "answer": "Hooks are executable scripts that run automatically on events. Skills are context-loaded reference guides activated by conversation topics."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
