# ============================================================================
# Auto-Agent-Harness: Docker Mode Configuration
# ============================================================================
#
# USE THIS FOR: Docker deployment with Anthropic API key (pay-per-token)
# AUTHENTICATION: ANTHROPIC_API_KEY (not OAuth subscription)
#
# QUICK START:
#   1. cp .env.docker.example .env
#   2. Edit .env: add your ANTHROPIC_API_KEY
#   3. Edit .env: generate JWT_SECRET_KEY (see below)
#   4. mkdir -p workspace
#   5. docker-compose up -d
#   6. Open http://localhost:8888
#
# ============================================================================

# ----------------------------------------------------------------------------
# Claude API Authentication (REQUIRED)
# ----------------------------------------------------------------------------

# Your Anthropic API key for Claude API access
# Get one at: https://console.anthropic.com/
# Format: sk-ant-api03-xxxxxxxxxxxxx
ANTHROPIC_API_KEY=sk-ant-api03-YOUR_KEY_HERE

# ----------------------------------------------------------------------------
# Application Authentication (UI Login)
# ----------------------------------------------------------------------------

# Enable authentication for web UI (recommended: true)
AUTH_ENABLED=true

# JWT secret key for session tokens (REQUIRED for Docker)
# Sessions won't persist across restarts without this!
# Generate: python -c "import secrets; print(secrets.token_hex(32))"
JWT_SECRET_KEY=GENERATE_A_32_BYTE_HEX_KEY_HERE

# Default admin password (only used when no users exist)
# CHANGE THIS for any non-local deployment!
DEFAULT_ADMIN_PASSWORD=change_me_please

# ----------------------------------------------------------------------------
# Paths (Docker-specific)
# ----------------------------------------------------------------------------

# Host directory to mount as /workspace in container
# This is where your projects will be stored
WORKSPACE_DIR=./workspace

# Security: restrict all file operations to /workspace
# This prevents the agent from accessing files outside workspace
ALLOWED_ROOT_DIRECTORY=/workspace

# Data directory inside container for settings, users, sessions
DATA_DIR=/app/data

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------

# Bind to all interfaces (required for Docker networking)
HOST=0.0.0.0

# Server port (maps to host via docker-compose ports)
PORT=8888

# Allow remote connections (required for Docker)
# Use reverse proxy (nginx) for production security
REQUIRE_LOCALHOST=false

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------

# Allowed origins for CORS (comma-separated, or "*" for all)
# For Docker/production, typically allow all or specify exact origins
CORS_ORIGINS=*

# ----------------------------------------------------------------------------
# HTTPS/SSL Configuration
# ----------------------------------------------------------------------------

# For Docker with nginx reverse proxy (recommended):
# - HTTPS_ENABLED=false (nginx handles SSL termination)
# - Set COOKIE_SECURE=true (cookies sent via HTTPS)
HTTPS_ENABLED=false

# For direct HTTPS (without nginx):
# SSL_CERTFILE=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# SSL_KEYFILE=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# ----------------------------------------------------------------------------
# Cookie Security
# ----------------------------------------------------------------------------

# Require HTTPS for cookies
# Set to "true" when behind HTTPS nginx or using direct HTTPS
COOKIE_SECURE=true

# SameSite cookie policy: strict, lax, or none
COOKIE_SAMESITE=lax

# ----------------------------------------------------------------------------
# Optional Integrations
# ----------------------------------------------------------------------------

# N8N webhook URL for progress notifications
# PROGRESS_N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/...
